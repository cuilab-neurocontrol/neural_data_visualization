<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>D3 伪3D轨迹</title>
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <style>
    body { font-family: sans-serif; }
    #ui-panel {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.5em 1em;
      margin-bottom: 1em;
      max-width: 700px;
    }
    #ui-panel label {
      display: flex;
      align-items: center;
      gap: 0.5em;
      margin-bottom: 0.1em;
    }
    #ui-panel input, #ui-panel select {
      flex: 1 1 0;
      min-width: 0;
    }
    #ui-panel button {
      grid-column: 1 / -1;
      margin-top: 0.5em;
      width: 100%;
    }
    svg { border: 1px solid #888; background: #fff; }
  </style>
</head>
<body>
  <div id="ui-panel">
    <label><span>上传CSV:</span> <input type="file" id="file-input" accept=".csv"></label>
    <label><span>X domain:</span> <input id="x-domain" value="-100,100"></label>
    <label><span>Y domain:</span> <input id="y-domain" value="-20,20"></label>
    <label><span>Z domain:</span> <input id="z-domain" value="-100,100"></label>
    <label><span>Canvas width (cm):</span> <input id="canvas-width" type="number" value="18.5" min="1" step="0.1"></label>
    <label><span>Canvas height (cm):</span> <input id="canvas-height" type="number" value="15.9" min="1" step="0.1"></label>
    <label><span>Margin (cm):</span> <input id="canvas-margin" type="number" value="1.5" min="0" step="0.1"></label>
    <label>
      <span>刻度朝向:</span>
      <select id="tick-direction">
        <option value="out">朝外</option>
        <option value="in">朝里</option>
      </select>
    </label>
    <label>
      <span>刻度长度 (px):</span>
      <input id="tick-length-px" type="number" value="10" min="1" step="1">
    </label>
    <label>
      <span>坐标轴粗细 (px):</span>
      <input id="axis-width-px" type="number" value="2" min="0.1" step="0.1">
    </label>
    <label>
      <span>刻度线粗细 (px):</span>
      <input id="tick-width-px" type="number" value="1" min="0.1" step="0.1">
    </label>
    <label>
      <span>网格线粗细 (px):</span>
      <input id="grid-width-px" type="number" value="1" min="0.1" step="0.1">
    </label>
    <label>
      <span>X 刻度位置:</span>
      <input id="x-ticks" type="text" value="-100,-50,0,50,100">
    </label>
    <label>
      <span>Y 刻度位置:</span>
      <input id="y-ticks" type="text" value="-20,-10,0,10,20">
    </label>
    <label>
      <span>Z 刻度位置:</span>
      <input id="z-ticks" type="text" value="-100,-50,0,50,100">
    </label>
    <label>
      <span>X 刻度标签:</span>
      <input id="x-labels" type="text" value="-1,-0.5,0,0.5,1">
    </label>
    <label>
      <span>Y 刻度标签:</span>
      <input id="y-labels" type="text" value="-1,-0.5,0,0.5,1">
    </label>
    <label>
      <span>Z 刻度标签:</span>
      <input id="z-labels" type="text" value="-1,-0.5,0,0.5,1">
    </label>
    <button id="update">Update Axes</button>
  </div>
  <svg id="svg" width="700" height="600"></svg>
  <script src="3Dtrajectory_d3.js"></script>
</body>
</html>