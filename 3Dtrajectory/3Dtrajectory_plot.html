<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>D3 伪3D轨迹</title>
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <style>
    body { font-family: sans-serif; }
    #ui-panel {
      margin-bottom: 1em;
      display: flex;
      flex-direction: column;
      gap: 0.3em;
      max-width: 340px;
    }
    #ui-panel label {
      display: flex;
      align-items: center;
      gap: 0.5em;
      margin-bottom: 0.1em;
    }
    #ui-panel input, #ui-panel select {
      flex: 1 1 0;
      min-width: 0;
    }
    #ui-panel button {
      margin-top: 0.5em;
      width: 100%;
    }
    svg { border: 1px solid #888; background: #fff; }
  </style>
</head>
<body>
  <div id="ui-panel">
    <label><span>上传CSV:</span> <input type="file" id="file-input" accept=".csv"></label>
    <label><span>X domain:</span> <input id="x-domain" value="-100,100"></label>
    <label><span>Y domain:</span> <input id="y-domain" value="-20,20"></label>
    <label><span>Z domain:</span> <input id="z-domain" value="-100,100"></label>
    <label><span>Canvas width (cm):</span> <input id="canvas-width" type="number" value="18.5" min="1" step="0.1"></label>
    <label><span>Canvas height (cm):</span> <input id="canvas-height" type="number" value="15.9" min="1" step="0.1"></label>
    <label><span>Margin (cm):</span> <input id="canvas-margin" type="number" value="1.5" min="0" step="0.1"></label>
    <label>
      <span>刻度朝向:</span>
      <select id="tick-direction">
        <option value="out">朝外</option>
        <option value="in">朝里</option>
      </select>
    </label>
    <label>
      <span>刻度长度 (px):</span>
      <input id="tick-length-px" type="number" value="10" min="1" step="1">
    </label>
    <button id="update">Update Axes</button>
  </div>
  <svg id="svg" width="700" height="600"></svg>
  <script src="3Dtrajectory_d3.js"></script>
</body>
</html>