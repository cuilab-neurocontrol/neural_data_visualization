<!DOCTYPE html>
<meta charset="utf-8">

<!-- Load d3.js -->
<script src="https://d3js.org/d3.v6.js"></script>

<!-- Add a title for the control panel -->
<h2>Time Series Line Plot 1</h2>

<!-- Create a control panel -->
<div id="control-panel">
  <!-- Subheading for Canvas Size -->
  <h3>Canvas Size</h3>
  <div class="control-row">
    <label for="width">Width (cm):</label>
    <input type="number" id="width" value="16.2" min="5" step="0.1" data-param="width">
    <label for="height">Height (cm):</label>
    <input type="number" id="height" value="14.1" min="5" step="0.1" data-param="height">
  </div>

  <!-- Subheading for Margins -->
  <h3>Margins</h3>
  <div class="control-row">
    <label for="margin-top">Top (cm):</label>
    <input type="number" id="margin-top" value="1" min="0" step="0.1">
    <label for="margin-right">Right (cm):</label>
    <input type="number" id="margin-right" value="1" min="0" step="0.1">
  </div>
  <div class="control-row">
    <label for="margin-bottom">Bottom (cm):</label>
    <input type="number" id="margin-bottom" value="1" min="0" step="0.1">
    <label for="margin-left">Left (cm):</label>
    <input type="number" id="margin-left" value="1.5" min="0" step="0.1">
  </div>

  <!-- Subheading for Axis Margins -->
  <h3>Axis Margins</h3>
  <div class="control-row">
    <label for="axis-margin-x">X-Axis Margin (cm):</label>
    <input type="number" id="axis-margin-x" value="0.5" min="0" step="0.1">
    <label for="axis-margin-y">Y-Axis Margin (cm):</label>
    <input type="number" id="axis-margin-y" value="0.5" min="0" step="0.1">
  </div>

  <!-- Update Button -->
  <div class="control-row">
    <button id="update" data-param="update">Update Size</button>
  </div>
</div>

<!-- Create a div where the graph will take place -->
<div id="my_dataviz" data-width="16.2" data-height="14.1"></div>

<!-- Add CSS for styling -->
<style>
  #control-panel {
    display: flex;
    flex-direction: column;
    gap: 15px; /* 增加子标题和内容之间的间距 */
    max-width: 600px; /* 增加宽度，避免换行 */
    margin-bottom: 20px;
  }

  .control-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px; /* 增加元素之间的间距 */
    flex-wrap: nowrap; /* 禁止换行 */
  }

  .control-row label {
    flex: 0 0 150px; /* 调整标签宽度，避免换行 */
    text-align: right;
  }

  .control-row input {
    flex: 1; /* 输入框占据剩余空间 */
    max-width: 100px; /* 限制输入框宽度 */
  }

  .control-row button {
    flex: 1;
    padding: 5px;
    max-width: 150px; /* 限制按钮宽度 */
  }

  h3 {
    margin: 0;
    font-size: 1.2em;
    font-weight: bold;
  }
</style>

<script src="./chart.js"></script>
